#** *****************************************************************************
# *
# * If not stated otherwise in this file or this component's LICENSE file the
# * following copyright and licenses apply:
# *
# * Copyright 2023 RDK Management
# *
# * Licensed under the Apache License, Version 2.0 (the "License");
# * you may not use this file except in compliance with the License.
# * You may obtain a copy of the License at
# *
# *
# http://www.apache.org/licenses/LICENSE-2.0
# *
# * Unless required by applicable law or agreed to in writing, software
# * distributed under the License is distributed on an "AS IS" BASIS,
# * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# * See the License for the specific language governing permissions and
# * limitations under the License.
# *
#* ******************************************************************************

# The information defined in this config is consistent across all devices of a type.

deviceConfig:
    cpe1:
        platform:   "stb"
        model:      "uk"
        target_directory: "/tmp/"  # Target Directory on device
        prompt: "" # Prompt string on console
        test:
            #TODO: Use the single profile file which contains all details (ds, hdmi, etc)
            profile: "../../../../profiles/source/Source_4K_VideoPort.yaml"
            player:
                tool: "gstreamer"
                prerequisites:
                    - export EXP=test # pre commands required to play the stream
            prerequisites:
                - export XDG_RUNTIME_DIR="/tmp" # pre commands required to play the stream
                - export LD_PRELOAD=libwesteros_gl.so.0.0.0
                - export WAYLAND_DISPLAY=wayland-0
                - export PLAYERSINKBIN_USE_WESTEROSSINK=1
                - export WESTEROS_SINK_AMLOGIC_USE_DMABUF=1
                - export WESTEROS_GL_USE_AMLOGIC_AVSYNC=1
                - export WESTEROS_SINK_USE_FREERUN=1
                - export WESTEROS_GL_USE_REFRESH_LOCK=1
                - export WESTEROS_SINK_USE_ESSRMGR=1
                - export WESTEROS_GL_DEBUG=2
                - export AAMP_ENABLE_OPT_OVERRIDE=true
                - export GST_DEBUG_DUMP_DOT_DIR=/opt/
                - westeros-init &
                - export DBUS_SESSION_BUS_ADDRESS=unix:path=/var/run/dbus/system_bus_socket
                - echo "pause0"> /sys/class/hdmirx/hdmirx0/debug
    cpe2:
        platform: "test"
        model: "test"
        target_directory: "/tmp"
        profile: ""
        test:
